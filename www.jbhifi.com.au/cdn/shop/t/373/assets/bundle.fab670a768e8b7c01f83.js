"use strict";(globalThis.webpackChunkshopify_theme=globalThis.webpackChunkshopify_theme||[]).push([["5649"],{26854:function(e,t,o){o.d(t,{O:()=>n});var r=o(12677);let n=({isLoggedIn:e,isPerks:t,coupon:o,couponId:n,couponCount:i})=>{(0,r.y)({event:"page_view",customer:{is_logged_in:!!e,is_perks_member:!!t,coupon:o,coupon_id:n,coupon_count:i}})}},33910:function(e,t,o){var r,n=o(41622),i=o(51306),s=o(69838),a=o(83107),c=o(18262),d=o(52092),l=o(31575);window.gtm.algoliaIsInit=!1;let u=new d.L,g=e=>(e.forEach(e=>{let t=!1;if(e){for(let o in e)"dimension3"===o&&(t=!0);t||(e.dimension3="(not set)")}for(let t in e)(e.hasOwnProperty(t)&&void 0===e[t]||""===e[t]||null===e[t])&&(e[t]="(not set)")}),e);window.gtm.track=(r=(0,n._)(function*(e,t,o=!1,r=!1){let n={};if(t&&t.products&&(t.products=g(t.products)),window.gtm.products&&(window.gtm.products=g(window.gtm.products)),window.gtm.cartProducts&&(window.gtm.cartProducts=g(window.gtm.cartProducts)),e){let o=document.querySelector("#CustomerLoginForm form");o&&!1===window.theme.isCustomerLoggedIn&&o.addEventListener("submit",function(){let e={event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:"2",option:"Login"}}}};(0,i.PN)(e,"GTM dataLayer updated"),dataLayer.push(e)});let c=document.querySelector("#registerForm form");switch(c&&!1===window.theme.isCustomerLoggedIn&&c.addEventListener("submit",function(){let e={event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:"2",option:"Create Account"}}}};(0,i.PN)(e,"GTM dataLayer updated"),dataLayer.push(e)}),e){case"productView":n={event:"productView",ecommerce:{currencyCode:(0,a.o)(),detail:{actionField:{list:"productdetails"},products:g([window.gtm.product])}}},window.gtm.products&&window.gtm.products.length&&window.gtm.track("productImpression");break;case"productClick":{let o;if(t.products&&t.products.length)o=t.products;else if(window.gtm.product&&window.gtm.product.id==t.productSku)o=[window.gtm.product];else for(let e=0;window.gtm.products.length>e;e++){let r=window.gtm.products[e];if(r.id==t.productSku){r.position=e+1,o=[r];break}}if(o.length){let i="other";t.productsList?i=t.productsList:window.gtm.productsList?i=window.gtm.productsList:window.gtm.wishlist&&(i=window.gtm.wishlist),i=r?"search":i,n={event:e,ecommerce:{currencyCode:(0,a.o)(),click:{actionField:{list:i},products:o}}}}break}case"addToCart":{let o;if(t.products&&t.products.length)o=t.products;else if(window.gtm.product&&window.gtm.product.id==t.productSku)o=[window.gtm.product];else for(let e=0;window.gtm.products.length>e;e++){let r=window.gtm.products[e];if(r.id==t.productSku){r.position=e+1,o=[r];break}}if(o.length){let i="other";t.productsList?i=t.productsList:window.gtm.productsList?i=window.gtm.productsList:window.gtm.wishlist&&(i=window.gtm.wishlist),i=r?"search":i,n={event:e,ecommerce:{currencyCode:(0,a.o)(),add:{actionField:{list:i},products:o}}}}break}case"cartPage":{let e=yield u.getCart(),t=(0,l.v)(e);(0,s.d)(t,"Cart"),n={event:"checkoutStep",ecommerce:{currencyCode:(0,a.o)(),checkout:{actionField:{step:"1"},products:window.gtm.cartProducts}}};break}case"newAccount":void 0!=document.referrer&&-1!==document.referrer.indexOf("/register")&&(n={event:"registrationSuccess"});break;case"productImpression":{let e=t&&t.products?t.products:window.gtm.products,o=t&&t.algolia?t.algolia:{};e=e&&e.map((e,t)=>(e.position||(o.resultsperpage>0&&o.page>0?e.position=t+1+(o.page-1)*o.resultsperpage:e.position=t+1),e.list||(e.list=window.gtm.productsList?window.gtm.productsList:"other"),e)),n={event:"productImpression",algolia:o,ecommerce:{currencyCode:(0,a.o)(),impressions:e}};break}case"algoliaSearchResults":{let e=t&&t.products?t.products:window.gtm.products;e=e&&e.map((e,t)=>(e.list="search",e)),n={event:"algoliaSearchResults",algolia:t.algolia,ecommerce:{currencyCode:(0,a.o)(),impressions:e}};break}case"customEvent":n={event:"sendEvent",eventCategory:t.category?t.category:"",eventAction:t.action?t.action:"",eventLabel:t.label?t.label:""}}}window.gtm.pageType&&o&&(n.pageType=window.gtm.pageType);let c=()=>window.gtm.customTrack(n);"function"==typeof window.requestIdleCallback?window.requestIdleCallback(c,{timeout:4e3}):c()}),function(e,t){return r.apply(this,arguments)});let m=document.getElementById("loginForm"),w=document.getElementById("CustomerLoginForm"),p=document.getElementById("customer_login"),v=document.querySelector("#CustomerLoginForm .errors"),h=document.querySelector("#RecoverPasswordForm .errors"),y=window.localStorage.getItem("user-has-logged-in"),f=document.getElementById("RecoverPassword"),L=document.getElementById("RecoverPasswordForm"),S=document.getElementById("HideRecoverPasswordLink"),P=document.getElementById("ResetSuccess"),k=window.localStorage.getItem("reset-password-page"),b=document.querySelector('[data-toggle="registerForm"]'),T=document.querySelector('[data-toggle="loginForm"]'),I=document.getElementById("registerForm"),E=document.getElementById("create_customer"),M=document.querySelector("#registerForm .errors");if(m&&!1===m.classList.contains("isHidden")&&w&&!1===w.classList.contains("hide")&&!v&&""===location.hash){let e={event:"sendPageview",pagePath:"/account/login#login",pageTitle:"Log in"};(0,i.PN)(e,"login page view send to GTM"),dataLayer.push(e),y&&window.localStorage.removeItem("user-has-logged-in"),p.addEventListener("submit",function(){window.localStorage.setItem("user-has-logged-in","true")})}if(T&&T.addEventListener("click",function(){let e={event:"sendPageview",pagePath:"/account/login#login",pageTitle:"Log in"};(0,i.PN)(e,"login page view send to GTM"),dataLayer.push(e),y&&window.localStorage.removeItem("user-has-logged-in")}),S&&S.addEventListener("click",function(){let e={event:"sendPageview",pagePath:"/account/login#login",pageTitle:"Log in"};(0,i.PN)(e,"login page view send to GTM"),dataLayer.push(e),y&&window.localStorage.removeItem("user-has-logged-in")}),m&&P&&!1===P.classList.contains("hide")){let e={event:"forgotPasswordSuccess"};(0,i.PN)(e,"forgot password success send to GTM"),dataLayer.push(e),y&&window.localStorage.removeItem("user-has-logged-in")}if(v||h||M){let e="";v&&(e=v.querySelector("ul li")),h&&(e=h.querySelector("ul li")),M&&(e=M.querySelector("ul li"));let t="Login";if(L&&h&&(t="Forgot Password"),I&&M&&(t="Registration"),e){let o={event:"errorEvent",errorType:t,errorMsg:e.innerHTML};(0,i.PN)(o,"login page error sent to GTM"),dataLayer.push(o),y&&window.localStorage.removeItem("user-has-logged-in")}}if(m&&f&&f.addEventListener("click",function(){let e={event:"sendPageview",pagePath:"/account/login#recover",pageTitle:"Forgot Password"};(0,i.PN)(e,"send forgot password page view to GTM"),dataLayer.push(e)}),L&&"#recover"===location.hash&&!h){let e={event:"sendPageview",pagePath:"/account/login#recover",pageTitle:"Forgot Password"};(0,i.PN)(e,"send forgot password page view to GTM"),dataLayer.push(e)}if(!m&&y){let e={event:"loginSuccess"};(0,i.PN)(e,"Log in success sent to GTM"),dataLayer.push(e),window.localStorage.removeItem("user-has-logged-in")}if(k){let e={event:"resetPasswordSuccess"};(0,i.PN)(e,"Reset password success sent to GTM"),dataLayer.push(e),window.localStorage.removeItem("reset-password-page")}if(b&&b.addEventListener("click",function(){let e={event:"sendPageview",pagePath:"/account/login#registration",pageTitle:"Registration"};(0,i.PN)(e,"registration page view send to GTM"),dataLayer.push(e),y&&window.localStorage.removeItem("user-has-logged-in")}),I&&!1===I.classList.contains("isHidden")&&!M){let e={event:"sendPageview",pagePath:"/account/login#registration",pageTitle:"Registration"};(0,i.PN)(e,"registration page view send to GTM"),dataLayer.push(e),y&&window.localStorage.removeItem("user-has-logged-in")}if(E&&E.addEventListener("submit",function(e){window.localStorage.setItem("register-form","true")}),!I&&!E&&window.localStorage.getItem("register-form")&&(dataLayer.push({event:"registrationSuccess"}),window.localStorage.removeItem("register-form")),document.getElementById("ResetPasswordForm")){let e=window.localStorage.getItem("reset-password-page"),t=document.querySelector(".errors"),o=document.querySelector("#ResetPasswordForm form");if(o&&o.addEventListener("submit",function(){window.localStorage.setItem("reset-password-page","true")}),!t){let t={event:"sendPageview",pagePath:"/account/reset",pageTitle:"Forgot Password"};(0,i.PN)(t,"reset password page view send to GTM"),dataLayer.push(t),e&&window.localStorage.removeItem("reset-password-page")}if(t){let o=t.querySelector("ul li");if(o){let t={event:"errorEvent",errorType:"Reset Password",errorMsg:o.innerHTML};(0,i.PN)(t,"login page error sent to GTM"),dataLayer.push(t),e&&window.localStorage.removeItem("reset-password-page")}}}"/cart"===window.location.pathname&&((e,t,o,r)=>{let n=(o?document.querySelector(o):document)||document,i=n.querySelector(e);i?t(i):new MutationObserver((o,n)=>{for(let i of o)for(let o of Array.from(i.addedNodes))if(o instanceof HTMLElement&&(o.matches(e)||o.querySelector(e))){t(o),r||n.disconnect();return}}).observe(n,{childList:!0,subtree:!0})})(".cart [data-cart-total] .checkout-btns div.checkout-btn [data-cart-continue-btn]",e=>{e.addEventListener("click",()=>{(0,c.J)({triggerSource:"my_cart"})})},"#MainContent",!0),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector(".login-option-box a.btn");e&&e.addEventListener("click",function(){dataLayer.push({event:"sendEvent",eventCategory:"Enhanced Ecommerce",eventAction:"Login"})})}),window.gtm.customTrack=e=>{e&&((0,i.PN)(e,"GTM analytics push"),dataLayer.push(e))},!window.gtm.initialized&&(window.gtm.pageloadAction?window.gtm.track(window.gtm.pageloadAction):window.gtm.customData&&window.gtm.track(window.gtm.customData));let F=document.querySelector(".klaviyo-bis-trigger");F&&F.addEventListener("click",e=>{let t={event:"productStartNotifyMe",ecommerce:{products:g([window.gtm.product])}};(0,i.PN)(t,"GTM dataLayer pushed"),dataLayer.push(t),setTimeout(()=>{let e=document.querySelector("#klaviyo-bis-iframe");(e=e.contentDocument||e.contentWindow.document).querySelectorAll(".form-horizontal")[0].addEventListener("submit",t=>{let o=new MutationObserver((t,o)=>{if(t&&"completed_message"===t[0].target.id){let t={event:"productSuccessNotifyMe",action:e.querySelectorAll("#subscribe_for_newsletter")[0].checked,ecommerce:{products:g([window.gtm.product])}};(0,i.PN)(t,"GTM dataLayer pushed"),dataLayer.push(t),o.disconnect()}else if(t&&"error_message"===t[0].target.id){let e={event:"productFailureNotifyMe",ecommerce:{products:g([window.gtm.product])}};(0,i.PN)(e,"GTM dataLayer pushed"),dataLayer.push(e),o.disconnect()}}),r=e.querySelectorAll("#completed_message")[0];o.observe(r,{attributes:!0,attributeFilter:["style"]});let n=e.querySelectorAll("#error_message")[0];o.observe(n,{attributes:!0,attributeFilter:["style"]})})},500)})},1856:function(e,t,o){o.d(t,{FG:()=>r,gU:()=>n});let r="Gift Card",n="999999999"}}]);
//# sourceMappingURL=bundle.fab670a768e8b7c0.js.map