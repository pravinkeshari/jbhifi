window.theme=window.theme||{},window.slate=window.slate||{},slate.rte={wrapTable:function(){$(".rte table").wrap('<div class="rte__table-wrapper"></div>')},iframeReset:function(){var e=$('.rte iframe[src*="youtube.com/embed"], .rte iframe[src*="player.vimeo"]'),t=e.add(".rte iframe#admin_bar_iframe");e.each(function(){$(this).wrap('<div class="video-wrapper"></div>')}),t.each(function(){this.src=this.src})}},window.slate=window.slate||{},slate.a11y={pageLinkFocus:function(e){var t="js-focus-hidden";e.first().attr("tabIndex","-1").focus().addClass(t).one("blur",function(){e.first().removeClass(t).removeAttr("tabindex")})},focusHash:function(){var e=window.location.hash;e&&document.getElementById(e.slice(1))&&this.pageLinkFocus($(e))},bindInPageLinks:function(){$("a[href*=#]").on("click",(function(e){this.pageLinkFocus($(e.currentTarget.hash))}).bind(this))},trapFocus:function(e){var t=e.namespace?"focusin."+e.namespace:"focusin";e.$elementToFocus||(e.$elementToFocus=e.$container),e.$container.attr("tabindex","-1"),e.$elementToFocus.focus(),$(document).off("focusin"),$(document).on(t,function(t){e.$container[0]===t.target||e.$container.has(t.target).length||e.$container.focus()})},removeTrapFocus:function(e){var t=e.namespace?"focusin."+e.namespace:"focusin";e.$container&&e.$container.length&&e.$container.removeAttr("tabindex"),$(document).off(t)}},theme.Images={preload:function(e,t){"string"==typeof e&&(e=[e]);for(var n=0;n<e.length;n++){var a=e[n];this.loadImage(this.getSizedImageUrl(a,t))}},loadImage:function(e){(new Image).src=e},switchImage:function(e,t,n){var a=this.imageSize(t.src),r=this.getSizedImageUrl(e.src,a);n?n(r,e,t):t.src=r},imageSize:function(e){var t=e.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})(@{1}?\d{1}?x{1}?)*[_\.]/);return null!==t?void 0!==t[2]?t[1]+t[2]:t[1]:null},getSizedImageUrl:function(e,t){if(null==t)return e;if("master"===t)return this.removeProtocol(e);var n=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(null!=n){var a=e.split(n[0]),r=n[0];return this.removeProtocol(a[0]+"_"+t+r)}return null},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},theme.Currency={formatMoney:function(e,t){"string"==typeof e&&(e=e.replace(".",""));var n="",a=/\{\{\s*(\w+)\s*\}\}/,r=t||"${{amount}}";function o(e,t,n,a){if(n=n||",",a=a||".",isNaN(e)||null==e)return 0;var r=(e=(e/100).toFixed(t)).split(".");return r[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+n)+(r[1]?a+r[1]:"")}switch(r.match(a)[1]){case"amount":n=o(e,2);break;case"amount_no_decimals":n=o(e,0);break;case"amount_with_comma_separator":n=o(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=o(e,0,".",",");break;case"amount_no_decimals_with_space_separator":n=o(e,0," ")}return r.replace(a,n)}},window.theme=window.theme||{},function(){var e=$(".return-link");function t(e){var t=document.createElement("a");return t.ref=e,t.hostname}document.referrer&&e.length&&window.history.length&&e.one("click",function(e){e.preventDefault();var n=t(document.referrer);return t(window.location.href)===n&&history.back(),!1})}(),function(){var e=$("#BlogTagFilter");e.length&&e.on("change",function(){location.href=$(this).val()})}(),window.theme=theme||{},theme.customerTemplates=function(){function e(){$("#RecoverPasswordForm").toggleClass("hide"),$("#CustomerLoginForm").toggleClass("hide")}return{init:function(){"#recover"===window.location.hash&&e(),$("#RecoverPassword").on("click",function(t){t.preventDefault(),e()}),$("#HideRecoverPasswordLink").on("click",function(t){t.preventDefault(),e()}),$(".reset-password-success").length&&$("#ResetSuccess").removeClass("hide")}}}(),theme.init=function(){theme.customerTemplates.init(),slate.rte.wrapTable(),slate.rte.iframeReset(),$(".in-page-link").on("click",function(e){slate.a11y.pageLinkFocus($(e.currentTarget.hash))}),$('a[href="#"]').on("click",function(e){e.preventDefault()})},$(theme.init);